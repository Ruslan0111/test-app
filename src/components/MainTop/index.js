import { useHistory } from "react-router-dom";

import './index.scss';

import flag from '../../assets/images/flag-en.png';

import firebase from 'firebase/app';

function MainTop({ isSidebaShown, showSidebarHandler }) {
  const history = useHistory();
  
  function handleLogout() {
    firebase.auth().signOut().then(() => {
      sessionStorage.removeItem('user');
      history.push('/login');
    }).catch((error) => {
      console.log(error);
    });
  }

  return (
    <div className="main__top">
      <div className="main__top-left">
        <div
          className={`main__top-burger ${isSidebaShown ? 'active' : ''}`}
          onClick={() => showSidebarHandler(true)}
        >
          <span></span>
        </div>
        <svg className="main__top-search" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M14.425 13.25L17.2583 16.075C17.4161 16.2315 17.5048 16.4445 17.5048 16.6667C17.5048 16.8889 17.4161 17.1019 17.2583 17.2583C17.1019 17.4161 16.8889 17.5048 16.6667 17.5048C16.4445 17.5048 16.2315 17.4161 16.075 17.2583L13.25 14.425C12.0854 15.3392 10.6472 15.8352 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667C15.8352 10.6472 15.3392 12.0854 14.425 13.25ZM9.16667 4.16667C6.40524 4.16667 4.16667 6.40524 4.16667 9.16667C4.16667 11.9281 6.40524 14.1667 9.16667 14.1667C11.9281 14.1667 14.1667 11.9281 14.1667 9.16667C14.1667 6.40524 11.9281 4.16667 9.16667 4.16667Z" fill="#637381"/>
        </svg>
      </div>
      <div className="main__top-right">
        <img src={flag} alt="" />
        <svg className="main__top-search2" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M14.425 13.25L17.2583 16.075C17.4161 16.2315 17.5048 16.4445 17.5048 16.6667C17.5048 16.8889 17.4161 17.1019 17.2583 17.2583C17.1019 17.4161 16.8889 17.5048 16.6667 17.5048C16.4445 17.5048 16.2315 17.4161 16.075 17.2583L13.25 14.425C12.0854 15.3392 10.6472 15.8352 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667C15.8352 10.6472 15.3392 12.0854 14.425 13.25ZM9.16667 4.16667C6.40524 4.16667 4.16667 6.40524 4.16667 9.16667C4.16667 11.9281 6.40524 14.1667 9.16667 14.1667C11.9281 14.1667 14.1667 11.9281 14.1667 9.16667C14.1667 6.40524 11.9281 4.16667 9.16667 4.16667Z" fill="#637381"/>
        </svg>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M15.6001 11.1667L17.1001 12.675C17.4853 13.0666 17.5985 13.6508 17.3877 14.1581C17.1768 14.6653 16.6827 14.9969 16.1334 15H13.3334V15.2834C13.2523 17.0448 11.7617 18.4087 10.0001 18.3334C8.23841 18.4087 6.74777 17.0448 6.66672 15.2834V15H3.86672C3.31742 14.9969 2.82334 14.6653 2.61246 14.1581C2.40157 13.6508 2.51486 13.0666 2.90006 12.675L4.40006 11.1667V7.27503C4.40301 5.65933 5.10159 4.12316 6.31733 3.05899C7.53307 1.99483 9.14819 1.50574 10.7501 1.71669C13.5713 2.1491 15.6413 4.59615 15.6001 7.45003V11.1667ZM10.0001 16.6667C10.8362 16.7257 11.5707 16.1161 11.6667 15.2834V15H8.33339V15.2834C8.4294 16.1161 9.16389 16.7257 10.0001 16.6667Z" fill="#637381"/>
        </svg>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M16.9334 7.80829H16.025C15.9084 7.80829 15.825 7.71663 15.775 7.59163C15.7142 7.49785 15.7142 7.37707 15.775 7.28329L16.45 6.66663C16.7173 6.40949 16.8679 6.05421 16.8667 5.68329C16.8663 5.31025 16.7162 4.95298 16.45 4.69163L15.3334 3.54996C15.0721 3.28686 14.7166 3.13889 14.3459 3.13889C13.9751 3.13889 13.6196 3.28686 13.3584 3.54996L12.7167 4.16663C12.6126 4.23334 12.4791 4.23334 12.375 4.16663C12.2723 4.12832 12.2009 4.0342 12.1917 3.92496V3.06663C12.192 2.30941 11.5902 1.68916 10.8334 1.66663H9.21669C8.44213 1.66661 7.81294 2.29208 7.80835 3.06663V3.97496C7.80835 4.09163 7.71669 4.17496 7.59169 4.22496C7.49791 4.28578 7.37713 4.28578 7.28335 4.22496L6.66669 3.54996C6.40276 3.2876 6.04713 3.13818 5.67502 3.13329C5.30449 3.13402 4.94994 3.28425 4.69169 3.54996L3.55002 4.66663C3.27914 4.9288 3.12621 5.28965 3.12621 5.66663C3.12621 6.0436 3.27914 6.40445 3.55002 6.66663L4.16669 7.28329C4.2334 7.38741 4.2334 7.52084 4.16669 7.62496C4.12838 7.72768 4.03426 7.79908 3.92502 7.80829H3.06669C2.29349 7.80829 1.66669 8.43509 1.66669 9.20829V10.7833C1.66667 11.5579 2.29214 12.187 3.06669 12.1916H3.97502C4.09169 12.1916 4.17502 12.2833 4.22502 12.4083C4.28584 12.5021 4.28584 12.6228 4.22502 12.7166L3.55002 13.3333C3.28766 13.5972 3.13824 13.9528 3.13335 14.325C3.13278 14.6982 3.28304 15.0558 3.55002 15.3166L4.66669 16.45C4.92795 16.7131 5.2834 16.861 5.65419 16.861C6.02497 16.861 6.38042 16.7131 6.64169 16.45L7.28335 15.8333C7.38747 15.7666 7.5209 15.7666 7.62502 15.8333C7.72774 15.8716 7.79914 15.9657 7.80835 16.075V16.9833C7.83529 17.7369 8.45427 18.3338 9.20835 18.3333H10.7834C11.5579 18.3333 12.1871 17.7078 12.1917 16.9333V16.025C12.1917 15.9083 12.2834 15.825 12.4084 15.775C12.5021 15.7141 12.6229 15.7141 12.7167 15.775L13.35 16.4166C13.614 16.679 13.9696 16.8284 14.3417 16.8333C14.7122 16.8326 15.0668 16.6823 15.325 16.4166L16.4417 15.3C16.7048 15.0387 16.8528 14.6832 16.8528 14.3125C16.8528 13.9417 16.7048 13.5862 16.4417 13.325L15.8334 12.7166C15.7725 12.6228 15.7725 12.5021 15.8334 12.4083C15.8717 12.3056 15.9658 12.2342 16.075 12.225H16.9834C17.7337 12.1982 18.3294 11.5841 18.3334 10.8333V9.21663C18.3334 8.44207 17.7079 7.81288 16.9334 7.80829ZM10 12.9166C8.82034 12.9166 7.75681 12.206 7.30537 11.1161C6.85392 10.0262 7.10346 8.77172 7.93762 7.93756C8.77178 7.1034 10.0263 6.85386 11.1162 7.30531C12.2061 7.75675 12.9167 8.82028 12.9167 9.99996C12.9167 11.6108 11.6108 12.9166 10 12.9166ZM10 11.25C10.6904 11.25 11.25 10.6903 11.25 9.99996C11.25 9.3096 10.6904 8.74996 10 8.74996C9.30966 8.74996 8.75002 9.3096 8.75002 9.99996C8.75002 10.6903 9.30966 11.25 10 11.25Z" fill="#637381"/>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          width="16"
          height="16"
          onClick={handleLogout}
        >
          <path fill="none" d="M0 0h24v24H0z"/>
          <path d="M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z" fill="#637381"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#637381" className="bi bi-person-circle" viewBox="0 0 16 16">
          <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
          <path fillRule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
        </svg>
      </div>
    </div>
  );
}

export default MainTop;